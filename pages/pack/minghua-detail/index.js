require("../common/vendor.js"),(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/pack/minghua-detail/index"],{"4b09":function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={topBar:function(){return Promise.all([n.e("common/vendor"),n.e("pages/components/top-bar/index")]).then(n.bind(null,"6ebb"))},imageView:function(){return Promise.all([n.e("common/vendor"),n.e("pages/components/image-view/index")]).then(n.bind(null,"2ff9"))},tmIcon:function(){return Promise.all([n.e("common/vendor"),n.e("components/tm-icon/index")]).then(n.bind(null,"f4eb"))},tmSpin:function(){return Promise.all([n.e("common/vendor"),n.e("components/tm-spin/index")]).then(n.bind(null,"3c6d"))}},o=function(){var e=this,t=(e.$createElement,e._self._c,e.ready&&e.info.note?e.__map(e.info.content,(function(t,n){return{$orig:e.__get_orig(t),g0:t?e.info.content.length:null}})):null);e.$mp.data=Object.assign({},{$root:{l0:t}})},a=[]},bc2d:function(e,t,n){(function(e,t){var i=n("4ea4");n("6cdc"),i(n("66fd"));var o=i(n("ff74"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e").default,n("543d").createPage)},e9ae:function(e,t,n){n.r(t);var i=n("eed7"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t.default=o.a},eed7:function(e,t,n){(function(e){var i=n("4ea4"),o=n("7037");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9523")),r=i(n("278c")),c=n("26cb"),l=n("ed08"),u=i(n("5d2d")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var c=a?Object.getOwnPropertyDescriptor(e,r):null;c&&(c.get||c.set)?Object.defineProperty(i,r,c):i[r]=e[r]}return i.default=e,n&&n.set(e,i),i}(n("3c18"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default={components:{slidePanel:function(){Promise.all([n.e("common/vendor"),n.e("pages/components/slide-panel/index")]).then(function(){return resolve(n("1881"))}.bind(null,n)).catch(n.oe)},commonTitle:function(){Promise.all([n.e("common/vendor"),n.e("pages/components/common-title/index")]).then(function(){return resolve(n("2370"))}.bind(null,n)).catch(n.oe)},collapseBox:function(){Promise.all([n.e("common/vendor"),n.e("pages/components/collapse-box/index")]).then(function(){return resolve(n("a94b"))}.bind(null,n)).catch(n.oe)},actionBar:function(){Promise.all([n.e("common/vendor"),n.e("pages/components/action-bar/index")]).then(function(){return resolve(n("8218"))}.bind(null,n)).catch(n.oe)}},data:function(){return{pageMeta:{name:"名画详情",category:"通用",type:"详情页",column:"",plate:""},attrArray:[],ready:!1,slideOpen:!1,currentIndex:0,is_collect:!1,info:{}}},onLoad:function(e){var t=this.handleSceneToQueryArr(e.scene),n=(0,r.default)(t,1)[0];this.id=e.id||n,this.getDetail()},onShow:function(){},onShareAppMessage:function(){return{path:"/pages/pack/minghua-detail/index?id=".concat(this.id),imageUrl:this.info.image,title:this.info.name}},computed:m({},(0,c.mapState)({user:function(e){return e.user.info}})),methods:m(m(m({},(0,c.mapMutations)(["commonUpdate"])),(0,c.mapActions)(["setFavoriteAction"])),{},{handlePreview:function(){this.info.mobile_img_detail_url?this.handleLinkRoute(this.info.mobile_img_detail_url):(console.log(this.info.big_image_list),e.previewImage({showmenu:!1,urls:this.info.big_image_list}))},onCollect:function(){this.is_collect=!this.is_collect,this.setFavoriteAction({open_id:this.user.open_id,data_id:this.id,collect_type:2,is_collect:this.is_collect?1:2}),this.is_collect?this.tarEvent("detail_minghua_collect",{name:this.info.name,id:this.id}):this.tarEvent("detail_minghua_collect_cancel",{name:this.info.name,id:this.id})},goShare:function(){var t=this.info,n=t.name,i=t.dynasty,o=t.image;this.commonUpdate({module:"home",type:"shareData",value:{title:n,desc:i,pic:o,type:"名画",path:"pages/pack/minghua-detail/index",scene:"".concat(this.id)}}),e.navigateTo({url:"/pages/pack/share/index?id=".concat(this.id)}),this.tarEvent("detail_minghua_share",{type:"card",name:n,id:this.id})},shareFriend:function(){this.tarEvent("detail_minghua_share",{type:"friend",name:this.info.name,id:this.id})},swiperChange:function(e){this.currentIndex=e.detail.current},slideChange:function(e){this.slideOpen=e},getDetail:function(){var e=this;this.is_collect=u.default.get("collect_".concat(this.id),!0);var t={code:this.id,open_id:this.user.open_id};s.minghuaDetail(t).then((function(t){var n=t.data,i=n.note,o=n.author,a=n.dynasty,r=n.level,c=n.type,u=n.width,s=n.height,d=n.is_collect,f=e.commonContentParse((0,l.pureHtmlToText)((0,l.htmlDecodeByRegExp)(i)));e.is_collect=1==d,e.setAttrArray({label:"画家",value:o},{label:"年代",value:a},{label:"级别",value:r},{label:"类别",value:c},{label:"宽度",value:"".concat(u||"","cm")},{label:"长度",value:"".concat(s||"","cm")}),e.info=m(m({},n),{},{content:f}),e.ready=!0}))},setAttrArray:function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];n.value&&e.push(n)}this.attrArray=e}})}}).call(this,n("543d").default)},ff74:function(e,t,n){n.r(t);var i=n("4b09"),o=n("e9ae");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("40c0");var r=n("f0c5"),c=Object(r.a)(o.default,i.b,i.c,!1,null,"7cd72440",null,!1,i.a,void 0);t.default=c.exports}},[["bc2d","common/runtime","common/vendor","pages/pack/common/vendor"]]]);