(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/components/open-page/index"],{"01ab":function(e,n,t){t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return o}));var o={topBar:function(){return Promise.all([t.e("common/vendor"),t.e("pages/components/top-bar/index")]).then(t.bind(null,"6ebb"))},imageView:function(){return Promise.all([t.e("common/vendor"),t.e("pages/components/image-view/index")]).then(t.bind(null,"2ff9"))},tmIcon:function(){return Promise.all([t.e("common/vendor"),t.e("components/tm-icon/index")]).then(t.bind(null,"f4eb"))},tmSpin:function(){return Promise.all([t.e("common/vendor"),t.e("components/tm-spin/index")]).then(t.bind(null,"3c6d"))}},c=function(){this.$createElement;this._self._c},i=[]},"53e8":function(e,n,t){(function(e){var o=t("4ea4"),c=t("7037");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("9523")),a=l(t("85e8")),r=l(t("dd29")),s=t("26cb");function u(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:n})(e)}function l(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=c(e)&&"function"!=typeof e)return{default:e};var t=u(n);if(t&&t.has(e))return t.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var r=i?Object.getOwnPropertyDescriptor(e,a):null;r&&(r.get||r.set)?Object.defineProperty(o,a,r):o[a]=e[a]}return o.default=e,t&&t.set(e,o),o}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,i.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.default={data:function(){return{countDown:4,ready:!1,skipShow:!1,info:{},animationData:"",showBg:""}},computed:{contentTitle:function(){var e=this.info,n=e.title,t=e.dynasty;return 3==e.type&&n?"".concat(n).concat(t?"."+t:"").split("").join("\n"):""}},created:function(){this.getData(),e.setNavigationBarColor({frontColor:"#000000"})},methods:f(f({},(0,s.mapMutations)(["commonUpdate"])),{},{downloadSuccess:function(){var e=this;r.show(this,"showBg",1),this.skipShow=!0,this.timer=setInterval((function(){e.countDown--,e.countDown<=0&&e.close()}),1e3)},getData:function(){var e=this;a.getMeiri().then((function(n){n.data?(e.info=n.data,e.info?e.ready=!0:e.close(),e.commonUpdate({module:"home",type:"openPage",value:n.data})):(console.warn("获取开屏数据失败",n),e.close())})).catch((function(n){console.warn("开屏请求报错",n),e.close()}))},skip:function(){this.close(),this.handleCommonUma("Um_Event_OpenscreenClick",{Um_Key_ButtonName:"跳过"})},close:function(){clearInterval(this.timer),this.closeLock||(this.closeLock=!0,this.$emit("hide"),e.setNavigationBarColor({frontColor:"#000000"}),r.show(this,"animationData",0))},animationEnd:function(){this.$emit("close")},goDetail:function(){var n=this;if(!this.closeLock){var t=this.info,o=t.type,c=t.code,i=t.jump_url,a=t.jump_type,r=t.jump_appid,s=t.jump_page;if(1===a&&3===o){var u="/pages/pack/wenwu-detail/index?code=".concat(c);this.handleLinkRoute(u,{success:function(){n.close(),n.closeLock=!1}})}else if(3===a&&i)this.handleLinkRoute(i,{success:function(){n.close(),n.closeLock=!1}});else if(2===a&&s)if(r)e.navigateToMiniProgram({appId:r,path:s,success:function(){n.close(),n.closeLock=!1}});else{var l=s;3===o&&(l="/pages/pack/wenwu-detail/index?code=".concat(c)),this.handleLinkRoute(l,{success:function(){n.close(),n.closeLock=!1}})}this.handleCommonUma("Um_Event_OpenscreenClick",{Um_Key_ButtonName:"文物详情页"})}},goBuy:function(){var e=this;this.closeLock||(this.handleLinkRoute("/pages/tour/index | switchTab",{success:function(){e.close(),e.closeLock=!1}}),this.handleCommonUma("Um_Event_OpenscreenClick",{Um_Key_ButtonName:"游故宫"}))}})}}).call(this,t("543d").default)},"5d5f":function(e,n,t){t.r(n);var o=t("01ab"),c=t("9573");for(var i in c)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return c[e]}))}(i);t("ce2e");var a=t("f0c5"),r=Object(a.a)(c.default,o.b,o.c,!1,null,"c9221698",null,!1,o.a,void 0);n.default=r.exports},9573:function(e,n,t){t.r(n);var o=t("53e8"),c=t.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n.default=c.a}}]),(global.webpackJsonp=global.webpackJsonp||[]).push(["pages/components/open-page/index-create-component",{"pages/components/open-page/index-create-component":function(e,n,t){t("543d").createComponent(t("5d5f"))}},[["pages/components/open-page/index-create-component"]]]);