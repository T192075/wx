require("../../common/vendor.js"),(global.webpackJsonp=global.webpackJsonp||[]).push([["pages/tickets/order/orderLists/orderLists"],{"075c":function(t,e,n){n.r(e);var r=n("dea6"),o=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e.default=o.a},"1a81":function(t,e,n){n.r(e);var r=n("56f6"),o=n("075c");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("a89f");var i=n("f0c5"),s=Object(i.a)(o.default,r.b,r.c,!1,null,"555a11d1",null,!1,r.a,void 0);e.default=s.exports},"56f6":function(t,e,n){n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}));var r={topBar:function(){return Promise.all([n.e("common/vendor"),n.e("pages/components/top-bar/index")]).then(n.bind(null,"6ebb"))}},o=function(){var t=this,e=(t.$createElement,t._self._c,t.orderLists.length);t.$mp.data=Object.assign({},{$root:{g0:e}})},a=[]},"8c85":function(t,e,n){(function(t,e){var r=n("4ea4");n("6cdc"),r(n("66fd"));var o=r(n("1a81"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e").default,n("543d").createPage)},dea6:function(t,e,n){(function(t){var r=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n("2eee")),a=r(n("448a")),i=r(n("c973")),s=r(n("9523")),c=n("fc36"),u=n("3a85"),d=n("26cb"),l=r(n("a78c"));function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var p=n("9210");e.default={components:{tabBar:function(){Promise.all([n.e("pages/tickets/common/vendor"),n.e("pages/tickets/components/tab-bar/tab-bar")]).then(function(){return resolve(n("b6dd"))}.bind(null,n)).catch(n.oe)},listEmpty:function(){Promise.all([n.e("common/vendor"),n.e("pages/components/listEmpty/index")]).then(function(){return resolve(n("7da2"))}.bind(null,n)).catch(n.oe)}},data:function(){return{listOptions:{page:1,size:10,status:"",more:!0},loading:!1,currentIndex:0,navLists:[{idx:0,txt:"全部",status:""},{idx:1,txt:"待支付",status:"1"},{idx:2,txt:"未使用",status:"3"},{idx:3,txt:"退款/售后",status:"4,5,7"}],orderLists:[],orderListsContentHeight:0,pageMeta:{name:"订单列表页",category:"推荐",type:"列表页",column:"购票约展",plate:"订单"}}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,s.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,d.mapGetters)({getSysInfo:"getSysInfo",windowHeight:"windowHeight",statusBarHeight:"statusBarHeight"})),mounted:function(){var e=this;t.createSelectorQuery().select(".orderLists-nav").boundingClientRect((function(t){var n=86+t.bottom,r=e.windowHeight-n;e.orderListsContentHeight=r})).exec()},onReady:function(){return(0,i.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l.default.get("mallOpenId")&&p.init({channel:"108994",openid:l.default.get("mallOpenId")},(function(t){console.log(t,"res init")}));case 1:case"end":return t.stop()}}),t)})))()},onLoad:function(t){return(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,"******pages onload options*******");case 1:case"end":return e.stop()}}),e)})))()},onShow:function(){this.getOrderList()},onHide:function(){this.resetOption()},methods:{onScrollBottom:function(){this.getOrderList()},getOrderList:function(){var e=this;return(0,i.default)(o.default.mark((function n(){var r,i,s,c,d,l,f,p,g,m;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.showLoading({title:"加载中..."}),r=e.listOptions,i=r.page,s=r.size,c=r.status,d=r.more,!e.loading&&d){n.next=5;break}return t.hideLoading({noConflict:!0}),n.abrupt("return");case 5:return e.loading=!0,l={page:i,size:s,status:c},n.next=9,(0,u.getMallOrderList)(l);case 9:f=n.sent,p=f.orders,g=void 0===p?[]:p,m=f.total,e.orderLists=[].concat((0,a.default)(e.orderLists),(0,a.default)(g)),m<i*s&&(e.listOptions.more=!1),e.listOptions.page++,e.loading=!1,t.hideLoading({noConflict:!0});case 18:case"end":return n.stop()}}),n)})))()},resetOption:function(t){this.listOptions={page:1,more:!0,status:t},this.orderLists=[]},changeNav:function(t){var e=t.idx,n=t.status;this.currentIndex=e,this.resetOption(n),this.getOrderList()},toOrderDetail:function(t){var e=t.orderCode;(0,c.navigateTo)(c.PAGE_PATH.TICKETS_ORDER_DETAIL,{orderCode:e})}}}}).call(this,n("bc2e").default)}},[["8c85","common/runtime","common/vendor","pages/tickets/common/vendor"]]]);