Object.defineProperty(exports,"__esModule",{value:!0}),exports.cubesFromManifest=function(e){return e.contents.map((function(e){return{name:e.name,position:e.position,euler:e.rotation,scale:e.scale,origin:e}}))},exports.cubeListsFromEma=function(a){var n={},r={},t={};if(a.clusters){var o,s=e(a.clusters);try{for(s.s();!(o=s.n()).done;){var i=o.value;n[i.id]=[]}}catch(e){s.e(e)}finally{s.f()}}if(a.blocks){var l,c=e(a.blocks);try{for(c.s();!(l=c.n()).done;){var f=l.value;r[f.id]=[]}}catch(e){c.e(e)}finally{c.f()}}if(a.extensions){var u=a.extensions.find((function(e){return"EasyAR"===e.vender&&"BlockAlias"===e.name}));if(u&&u.details.blocks){var p,v=e(u.details.blocks);try{for(v.s();!(p=v.n()).done;){var d,m=p.value,b=m.id,y=e(m.aliases);try{for(y.s();!(d=y.n()).done;){var k=d.value;r[k]=r[b]}}catch(e){y.e(e)}finally{y.f()}}}catch(e){v.e(e)}finally{v.f()}}}if(a.annotations){var h,g=e(a.annotations);try{for(g.s();!(h=g.n()).done;){var x=h.value;if(x.parent){var F=null;switch(x.parent.type){case"cluster":F=n[x.parent.id];break;case"block":F=r[x.parent.id];break;case"map":F=t[x.parent.id]||[],t[x.parent.id]=F}F?F.push({name:x.name,position:x.transform.position,quat:x.transform.rotation,scale:x.transform.scale,origin:x}):console.log("annotation ".concat(x.name," \u672a\u627e\u5230parent"))}else console.log("annotation ".concat(x.name," \u6ca1\u6709parent"))}}catch(e){g.e(e)}finally{g.f()}}return console.log({clusters:n,blocks:r,maps:t}),{clusters:n,blocks:r,maps:t}};var e=require("../../@babel/runtime/helpers/createForOfIteratorHelper");