Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultiSwitch=void 0;var e=require("../../@babel/runtime/helpers/classCallCheck"),t=require("../../@babel/runtime/helpers/createClass"),i=function(){function i(t){e(this,i),this.allSet=new Set(t),this.offSet=new Set(t),this.callbackAllOn=[],this.callbackAnyOff=[];var l=!this.offSet.size;this._testAndTrigger(!1,l)}return t(i,[{key:"on",value:function(e){if(this.allSet.has(e)){var t=!this.offSet.size;this.offSet.delete(e);var i=!this.offSet.size;this._testAndTrigger(t,i)}}},{key:"off",value:function(e){if(this.allSet.has(e)){var t=!this.offSet.size;this.offSet.add(e);var i=!this.offSet.size;this._testAndTrigger(t,i)}}},{key:"_testAndTrigger",value:function(e,t){!e&&t?this._triggerAllOn():e&&!t&&this._triggerAnyOff()}},{key:"_triggerAllOn",value:function(){this.callbackAllOn.slice().forEach((function(e){return e()}))}},{key:"_triggerAnyOff",value:function(){this.callbackAnyOff.slice().forEach((function(e){return e()}))}},{key:"registerAllOn",value:function(e){this.callbackAllOn.push(e)}},{key:"registerAnyOff",value:function(e){this.callbackAnyOff.push(e)}},{key:"unregisterAllOn",value:function(e){this.callbackAllOn=this.callbackAllOn.filter((function(t){return t!==e}))}},{key:"unregisterAnyOff",value:function(e){this.callbackAnyOff=this.callbackAnyOff.filter((function(t){return t!==e}))}}]),i}();exports.MultiSwitch=i;