Object.defineProperty(exports,"__esModule",{value:!0}),exports.text=void 0;var e=function(e){function t(){}function r(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===n.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function o(e){for(var t=0,r=Math.min(65536,e.length+1),o=new Uint16Array(r),n=[],i=0;;){var f=t<e.length;if(!f||i>=r-1){if(n.push(String.fromCharCode.apply(null,o.subarray(0,i))),!f)return n.join("");e=e.subarray(t),i=t=0}if(0==(128&(f=e[t++])))o[i++]=f;else if(192==(224&f)){var a=63&e[t++];o[i++]=(31&f)<<6|a}else if(224==(240&f)){a=63&e[t++];var u=63&e[t++];o[i++]=(31&f)<<12|a<<6|u}else if(240==(248&f)){65535<(f=(7&f)<<18|(a=63&e[t++])<<12|(u=63&e[t++])<<6|63&e[t++])&&(f-=65536,o[i++]=f>>>10&1023|55296,f=56320|1023&f),o[i++]=f}}}if(e.TextEncoder&&e.TextDecoder)return!1;var n=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var r=e.length,o=0,n=Math.max(32,r+(r>>>1)+7),i=new Uint8Array(n>>>3<<3);t<r;){var f=e.charCodeAt(t++);if(55296<=f&&56319>=f){if(t<r){var a=e.charCodeAt(t);56320==(64512&a)&&(++t,f=((1023&f)<<10)+(1023&a)+65536)}if(55296<=f&&56319>=f)continue}if(o+4>i.length&&(n+=8,n=(n*=1+t/e.length*2)>>>3<<3,(a=new Uint8Array(n)).set(i),i=a),0==(4294967168&f))i[o++]=f;else{if(0==(4294965248&f))i[o++]=f>>>6&31|192;else if(0==(4294901760&f))i[o++]=f>>>12&15|224,i[o++]=f>>>6&63|128;else{if(0!=(4292870144&f))continue;i[o++]=f>>>18&7|240,i[o++]=f>>>12&63|128,i[o++]=f>>>6&63|128}i[o++]=63&f|128}}return i.slice?i.slice(0,o):i.subarray(0,o)},Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var i=o;return"function"==typeof Buffer&&Buffer.from?i=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(i=function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(),r.responseText}catch(t){return o(e)}finally{URL.revokeObjectURL(t)}}),r.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),i(e)},e.TextEncoder=t,e.TextDecoder=r,e}("undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0);exports.text=e;